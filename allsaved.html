<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <title>All Saved</title>
</head>
<body style="font-family:'Inter',sans-serif;margin:0;padding:0;display:flex;justify-content:center;min-height:100vh;">
  <div style="width:900px;margin-top:40px;background:white;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,0.2);overflow:hidden;">
    
    <!-- Header -->
    <div style="position:relative;background:url('https://d37ec3di8bduyh.cloudfront.net/portal/default/img/header.svg') center/cover no-repeat;height:70px;display:flex;align-items:center;background-color:#237803;justify-content:flex-start;padding-left:24px;">
      <img src="https://s3.eu-central-1.amazonaws.com/euc-cdn.freshdesk.com/data/helpdesk/attachments/production/76042127662/logo/kAvkfKrV4ZdEZZ0skKSgxq0Y_Ea1w9bI5Q.png" 
           alt="Header Logo" 
           style="height:40px;object-fit:contain;">
    </div>

    <div style="display:flex;justify-content:space-between;align-items:center;padding:16px 24px 0;">
      <h2 style="color:#237803;margin:0;">All Saved Configurations</h2>
      <a href="index.html" 
         style="background:#237803;color:white;padding:8px 16px;border-radius:6px;text-decoration:none;font-weight:500;">
         ➕ Add New
      </a>
    </div>

    <a href="index.html" style="color:#237803;text-decoration:none;margin-left:24px;">← Back</a>

    <table id="savedTable" style="width:100%;margin-top:20px;border-collapse:collapse;">
      <thead>
        <tr style="background:#f1f5f9;color:#374151;">
          <th style="border:1px solid #d1d5db;padding:8px;">ID</th>
          <th style="border:1px solid #d1d5db;padding:8px;">Products</th>
          <th style="border:1px solid #d1d5db;padding:8px;">Shops</th>
          <th style="border:1px solid #d1d5db;padding:8px;">Actions</th>
        </tr>
		<tr>
          <th style="border:1px solid #d1d5db;padding:8px;">1</th>
          <th style="border:1px solid #d1d5db;padding:8px;">11, 12</th>
          <th style="border:1px solid #d1d5db;padding:8px;">1, 2, 3</th>
          <th style="border:1px solid #d1d5db;padding:8px;">Edit,  Delete</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>

  <script>
    const tableBody = document.getElementById('tableBody');
    let data = JSON.parse(localStorage.getItem('savedConfigs') || '[]');

    function renderTable() {
      tableBody.innerHTML = '';
      data.forEach((item, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td style="border:1px solid #d1d5db;padding:8px;">${item.id}</td>
          <td style="border:1px solid #d1d5db;padding:8px;">${item.products || '-'}</td>
          <td style="border:1px solid #d1d5db;padding:8px;">${item.shops || '-'}</td>
          <td style="border:1px solid #d1d5db;padding:8px;">
            <button onclick="editItem(${index})" style="background:#2563eb;color:white;padding:6px 10px;border:none;border-radius:4px;cursor:pointer;">Edit</button>
            <button onclick="deleteItem(${index})" style="background:#dc2626;color:white;padding:6px 10px;border:none;border-radius:4px;cursor:pointer;">Delete</button>
          </td>
        `;
        tableBody.appendChild(row);
      });
    }

    function deleteItem(index) {
      if (confirm('Delete this entry?')) {
        data.splice(index, 1);
        localStorage.setItem('savedConfigs', JSON.stringify(data));
        renderTable();
      }
    }

    function editItem(index) {
      const newProducts = prompt('Edit Products (comma-separated):', data[index].products);
      if (newProducts !== null) {
        const newShops = prompt('Edit Shops (comma-separated):', data[index].shops);
        if (newShops !== null) {
          data[index].products = newProducts;
          data[index].shops = newShops;
          localStorage.setItem('savedConfigs', JSON.stringify(data));
          renderTable();
        }
      }
    }

    renderTable();
  </script>
</body>
</html>
